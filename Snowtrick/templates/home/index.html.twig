{% extends 'base.html.twig' %}

{% block title %}HomeController{% endblock %}

{% block body %}

<!-- Grande Image de ma page Home -->

<div>
    <img src="{{ asset('uploads/image_home/home.jpg') }}" class="img-fluid" alt="Responsive image">
    <span><i class="fa-solid fa-arrow-down"></i></span>
</div>



<!-- Recuperer les infos de mon user grace aux variables d'environement de Twig (app.)-->
<p>Bienvenu : {{ app.user.username ?? 'utilisateur non connecté' }}</p>

<!-- Affichage de ma liste de Tricks -->

    <!-- Creation Trick si user connecté -->
    {% if app.user %}
        <a href="/create" style="color: black;">Créer votre Figure</a>
    {% endif %}


    <div class="container">
        <div class="row justify-content-around">
            <!-- Liste de trick existant -->
            {% for trick in tricks %}
                <div class="card bg-primary mb-3 col-md-4 p-0" style="max-width: 18rem;">
                    <div class="card-header p-0">
                        <!-- Image Trick -->
                        <img src="{{ asset('uploads/image_user/') }}{{ trick.image|e }}" alt="" style="width: 100%;height:12rem;">
                    </div>


                    <!-- Body Card + stylo et corbeille -->
                    <div class="card-body d-flex justify-content-between">
                        <!-- Passer le titre en lien vers la page details du trick à terme -->
                        <a href="/detail/{{trick.id}}">{{ trick.getTitle|e }}</a>
                        <input type="hidden" value={{trick.id}}/>

                        <!-- Affichage du stylo et corbeille si connecté -->
                        {% if app.user %}
                            <div style="display:flex;">
                                <a href="/edit/{{trick.id}}"><i class="fa-solid fa-pen"></i></a>
                                <input type="hidden" value={{trick.id}}/>

                                <a href="/delete/{{trick.id}}" style="margin-left:1rem;"><i class="fa-solid fa-trash-can"></i></a>
                                <input type="hidden" value={{trick.id}}/>
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    



{% endblock %}
